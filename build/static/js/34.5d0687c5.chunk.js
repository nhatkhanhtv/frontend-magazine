(this.webpackJsonpdemo1=this.webpackJsonpdemo1||[]).push([[34],{1937:function(e,t,a){"use strict";a.r(t);var n=a(18),i=a(8),r=a(0),o=a(65),c=a(270),s=a(1721),l=a(1726),d=a(1728),u=a(1732),I=a(1735),E=a(147),b=a(69),O=a(1739),N=a(1720),P=a.n(N),A=a(1719),p=a.n(A),_=a(51),S=a.n(_),G=a(78).a+"/shipping-agency",j=G+"/bulk",m=function(e){return S.a.post(G,Object(i.a)(Object(i.a)({},e),{},{type:"1"}))},D=function(e){var t=e.queryProps,a=e.sortList,n=e.paginationProps;return S.a.get("".concat(G),{params:Object(i.a)(Object(i.a)(Object(i.a)({},t),n),{},{sortList:a})})},y=function(e){var t=e.queryProps,a=e.sortList,n=e.paginationProps;return S.a.get("".concat(G,"/count"),{params:Object(i.a)(Object(i.a)(Object(i.a)({},t),n),{},{sortList:a})})},T=function(e){return S.a.get("".concat(G,"/").concat(e._id))},g=function(e){return S.a.get("".concat(G,"/").concat(e))},h=function(e){return S.a.put("".concat(G,"/").concat(e._id),Object(i.a)(Object(i.a)({},e),{},{type:"1"}))},M=function(e){return S.a.delete("".concat(G,"/").concat(e._id))},f=function(e){return S.a.delete(j,{data:{listAgencies:e}})},C=a(1725),Y=a(1769),L=a(1741),H=a(85),v=a(1760),R=a(1740),F=a(1),U="SHIPPING_AGENCY.MODULE_NAME";t.default=function(){var e=Object(o.a)(),t=Object(b.g)(),a=Object(E.i)({getServer:T,countServer:y,createServer:m,deleteServer:M,deleteManyServer:f,getAllServer:D,updateServer:h}),N=a.entities,A=a.deleteEntity,_=a.setDeleteEntity,S=a.editEntity,G=a.selectedEntities,j=a.setSelectedEntities,w=a.detailEntity,x=a.setDetailEntity,q=a.showDelete,V=a.setShowDelete,B=a.showCreate,k=a.showDetail,W=a.setShowDetail,z=a.showDeleteMany,J=a.setShowDeleteMany,X=a.paginationProps,K=a.setPaginationProps,Q=a.filterProps,Z=a.setFilterProps,$=a.total,ee=a.loading,te=a.error,ae=a.add,ne=a.update,ie=a.get,re=a.deleteMany,oe=a.deleteFn,ce=a.getAll;Object(r.useEffect)((function(){ce(Object(i.a)(Object(i.a)({},Q),{},{type:"1"}))}),[X,Q]);var se=Object(r.useMemo)((function(){return{code:Object(i.a)(Object(i.a)({dataField:"code",text:"".concat(e.formatMessage({id:"SHIPPING_AGENCY.MASTER.TABLE.CODE_COLUMN"}))},c.e),{},{align:"center"}),name:Object(i.a)(Object(i.a)({dataField:"name",text:"".concat(e.formatMessage({id:"SHIPPING_AGENCY.MASTER.TABLE.NAME_COLUMN"}))},c.e),{},{align:"center"}),phone:Object(i.a)(Object(i.a)({dataField:"phone",text:"".concat(e.formatMessage({id:"SHIPPING_AGENCY.MASTER.TABLE.PHONE_COLUMN"}))},c.e),{},{align:"center"}),status:Object(i.a)(Object(i.a)({dataField:"status",text:"".concat(e.formatMessage({id:"SHIPPING_AGENCY.MASTER.TABLE.STATUS_COLUMN"})),formatter:d.b},c.e),{},{align:"center"}),action:Object(i.a)(Object(i.a)({dataField:"action",text:"".concat(e.formatMessage({id:"SHIPPING_AGENCY.MASTER.TABLE.ACTION_COLUMN"})),formatter:d.a,formatExtraData:{intl:e,onShowDetail:function(e){ie(e),W(!0),x(e)},onDelete:function(e){_(e),V(!0)},onEdit:function(e){t.push("".concat(window.location.pathname,"/").concat(e._id))}}},c.c),{},{style:{minWidth:"130px"}})}}),[]),le=Object(r.useMemo)((function(){return[{header:"SHIPPING_AGENCY.DETAIL_DIALOG.SHIPPING.SUBTITLE",className:"col-7",dataClassName:"col-7",data:{code:{title:"SHIPPING_AGENCY.DETAIL_DIALOG.SHIPPING.CODE"},name:{title:"SHIPPING_AGENCY.DETAIL_DIALOG.SHIPPING.NAME"},address:{title:"SHIPPING_AGENCY.DETAIL_DIALOG.SHIPPING.ADDRESS",formatter:function(e){var t="".concat(e.address,", ").concat(e.district,", ").concat(e.city,", ").concat(e.state);return Object(F.jsx)(F.Fragment,{children:t})}},phone:{title:"SHIPPING_AGENCY.DETAIL_DIALOG.SHIPPING.PHONE_NUMBER"},status:{title:"SHIPPING_AGENCY.DETAIL_DIALOG.SHIPPING.STATUS",formatter:d.b}}},{header:"SHIPPING_AGENCY.DETAIL_DIALOG.OWNER.SUBTITLE",className:"col-5",titleClassName:"col-5",dataClassName:"col-7",data:{fullName:{title:"SHIPPING_AGENCY.DETAIL_DIALOG.OWNER.FULL_NAME",keyField:"owner.fullName"},email:{title:"SHIPPING_AGENCY.DETAIL_DIALOG.OWNER.EMAIL",keyField:"owner.email"},phone:{title:"SHIPPING_AGENCY.DETAIL_DIALOG.OWNER.PHONE_NUMBER",keyField:"owner.phone"}}}]}),[]),de=Object(r.useState)({}),ue=Object(n.a)(de,2),Ie=ue[0],Ee=ue[1],be=Object(r.useState)(null),Oe=Object(n.a)(be,2),Ne=Oe[0],Pe=Oe[1],Ae=Object(r.useState)(null),pe=Object(n.a)(Ae,2),_e=pe[0],Se=pe[1],Ge=Object(r.useState)(null),je=Object(n.a)(Ge,2),me=je[0],De=je[1],ye=Object(r.useState)(null),Te=Object(n.a)(ye,2),ge=Te[0],he=Te[1],Me=Object(r.useState)(null),fe=Object(n.a)(Me,2),Ce=fe[0],Ye=fe[1];Object(r.useEffect)((function(){var e,t;Pe(null===S||void 0===S||null===(e=S.address)||void 0===e?void 0:e.state),Se(null===S||void 0===S||null===(t=S.address)||void 0===t?void 0:t.city)}),[S]),Object(r.useEffect)((function(){var e={};v.h({queryProps:Object(i.a)({},Q),paginationProps:Object(i.a)(Object(i.a)({},X),{},{limit:100})}).then((function(t){var a=t.data.data.findIndex((function(e){return"Ph\xf2ng V\u1eadn chuy\u1ec3n"===e.name||"00006"===e.code}));-1!==a&&(e.managementUnit=t.data.data[a],L.f({queryProps:Object(i.a)(Object(i.a)({},Q),{},{managementUnit:Object(i.a)({},e.managementUnit)}),paginationProps:X}).then((function(t){var a=t.data.data.findIndex((function(e){return"Ch\u1ee7 \u0111\u01a1n v\u1ecb v\u1eadn chuy\u1ec3n"===e.name}));-1!==a&&(e.role=t.data.data[a],Ee(e))})))}))}),[]);var Le=Object(r.useCallback)((function(e){var t=e.queryProps,a=e.paginationProps;return Object(Y.a)({queryProps:Object(i.a)(Object(i.a)({},t),{},{state:Ne}),paginationProps:a})}),[Ne]),He=Object(r.useCallback)((function(e){var t=e.queryProps,a=e.paginationProps;return Object(Y.b)({queryProps:Object(i.a)(Object(i.a)({},t),{},{city:_e}),paginationProps:a})}),[_e]),ve=Object(r.useCallback)((function(e){var t=e.queryProps,a=e.paginationProps;return console.log(me),Object(Y.a)({queryProps:Object(i.a)(Object(i.a)({},t),{},{state:me}),paginationProps:a})}),[me]),Re=Object(r.useCallback)((function(e){var t=e.queryProps,a=e.paginationProps;return Object(Y.b)({queryProps:Object(i.a)(Object(i.a)({},t),{},{city:ge}),paginationProps:a})}),[ge]),Fe=Object(r.useMemo)((function(){return{_subTitle:"TH\xd4NG TIN CHUNG",_className:"col-6 pr-xl-15 pr-md-10 pr-5",code:{_type:"string",label:"SHIPPING_AGENCY.MODIFY.CODE",disabled:!0},name:{_type:"string",required:!0,label:"SHIPPING_AGENCY.MODIFY.NAME"},address:{_type:"object",state:{_type:"search-select",onSearch:Y.c,disabled:function(e){console.log(e)},onChange:function(e,t){var a=t.setFieldValue,n=t.setFieldTouched;console.log(Ne,e),e&&Ne==e||(Se(null),a("address.city",""),n("address.city",!1),a("address.district",""),n("address.district",!1)),Pe(e)},required:!0,label:"SHIPPING_AGENCY.MODIFY.STATE"},city:{_type:"search-select",onSearch:Le,required:!0,onChange:function(e,t){var a=t.setFieldValue,n=t.setFieldTouched;e&&_e==e||(a("address.district",""),n("address.district",!1)),Se(e)},disabled:function(e){var t;return""===(null===e||void 0===e||null===(t=e.address)||void 0===t?void 0:t.state)},label:"SHIPPING_AGENCY.MODIFY.CITY"},district:{_type:"search-select",onSearch:He,required:!0,disabled:function(e){var t;return""===(null===e||void 0===e||null===(t=e.address)||void 0===t?void 0:t.city)},label:"SHIPPING_AGENCY.MODIFY.DISTRICT"},address:{_type:"string",required:!0,label:"SHIPPING_AGENCY.MODIFY.ADDRESS"}},status:{_type:"boolean",label:"SHIPPING_AGENCY.MODIFY.STATUS"},phone:{_type:"string-number",required:!0,label:"SHIPPING_AGENCY.MODIFY.PHONE_NUMBER"},taxId:{_type:"string-number",required:!0,label:"SHIPPING_AGENCY.MODIFY.TAX_NUMBER"},images:{_type:"image",label:"SHIPPING_AGENCY.MODIFY.IMAGE"}}}),[Le,He]),Ue=Object(r.useMemo)((function(){return{_subTitle:"TH\xd4NG TIN CH\u1ee6 \u0110\u01a0N V\u1eca",_className:"col-6 pl-xl-15 pl-md-10 pl-5",owner:{_type:"object",code:{_type:"string",label:"AGENCY.MODIFY.USER_CODE",disabled:!0},username:{_type:"string",label:"SHIPPING_AGENCY.MODIFY.USER_NAME",required:!0},fullName:{_type:"string",required:!0,label:"SHIPPING_AGENCY.MODIFY.DISPLAY_NAME"},phone:{_type:"string-number",required:!0,label:"SHIPPING_AGENCY.MODIFY.PHONE_NUMBER"},email:{_type:"email",required:!0,label:"SHIPPING_AGENCY.MODIFY.EMAIL"},gender:{_type:"radio",required:!0,options:[{label:"SHIPPING_AGENCY.MODIFY.GENDER_OPTION.MALE",value:"1"},{label:"SHIPPING_AGENCY.MODIFY.GENDER_OPTION.FEMALE",value:"0"}],label:"SHIPPING_AGENCY.MODIFY.GENDER"},birthDay:{_type:"date-time",required:!0,label:"SHIPPING_AGENCY.MODIFY.DATE_OF_BIRTH"},address:{_type:"object",state:{_type:"search-select",onSearch:Y.c,disabled:function(e){console.log(e)},onChange:function(e,t){var a=t.setFieldValue,n=t.setFieldTouched;me!=e&&(he(null),a("owner.address.city",""),n("owner.address.city",!1),a("owner.address.district",""),n("owner.address.district",!1)),De(e)},required:!0,label:"AGENCY.MODIFY.STATE"},city:{_type:"search-select",onSearch:ve,required:!0,onChange:function(e,t){var a=t.setFieldValue,n=t.setFieldTouched;ge!=e&&(a("owner.address.district",""),n("owner.address.district",!1)),he(e)},disabled:function(e){var t,a;return""===(null===e||void 0===e||null===(t=e.owner)||void 0===t||null===(a=t.address)||void 0===a?void 0:a.state)},label:"AGENCY.MODIFY.CITY"},district:{_type:"search-select",onSearch:Re,required:!0,disabled:function(e){var t,a;return""===(null===e||void 0===e||null===(t=e.owner)||void 0===t||null===(a=t.address)||void 0===a?void 0:a.city)},label:"AGENCY.MODIFY.DISTRICT"},address:{_type:"string",required:!0,label:"AGENCY.MODIFY.ADDRESS"}},managementUnit:{_type:"search-select",label:"USER.MODIFY.MANAGEMENT_UNIT",keyField:"name",required:!0,onSearch:v.h,onChange:function(e,t){var a=t.setFieldValue;Ce!=e&&a("role",null),Ye(e)},disabled:!0},role:{_type:"search-select",label:"USER.MODIFY.ROLE",keyField:"name",onSearch:function(e,t){var a=e.queryProps,n=e.paginationProps;return L.f({queryProps:Object(i.a)(Object(i.a)({},a),{},{managementUnit:Object(i.a)({},null===t||void 0===t?void 0:t.managementUnit)}),paginationProps:n})},disabled:!0},image:{_type:"image",isArray:!1,maxNumber:1,label:"SHIPPING_AGENCY.MODIFY.REPRESENT_IMAGE"}}}}),[B,ve,Re,Ce]),we=Object(r.useMemo)((function(){return{_header:"SHIPPING_AGENCY.CREATE.HEADER",panel1:{_title:"",group1:Fe,group2:Ue}}}),[Fe,Ue]),xe=Object(r.useMemo)((function(){return Object(i.a)(Object(i.a)({},we),{},{_header:"SHIPPING_AGENCY.UPDATE.HEADER"})}),[we]),qe=Object(r.useMemo)((function(){return H.d().shape({phone:H.f().max(11,"VALIDATE.ERROR.INVALID_INPUT").min(8,"VALIDATE.ERROR.INVALID_INPUT"),taxId:H.f().min(10,"VALIDATE.ERROR.INVALID_INPUT").max(13,"VALIDATE.ERROR.INVALID_INPUT"),owner:H.d().shape({phone:H.f().max(11,"VALIDATE.ERROR.INVALID_INPUT").min(8,"VALIDATE.ERROR.INVALID_INPUT"),birthDay:H.a().max(new Date,"VALIDATE.ERROR.MUST_LESS_THAN_TODAY")})})}),[]),Ve=Object(r.useMemo)((function(){return{type:"inside",data:{save:{role:"submit",type:"submit",linkto:void 0,className:"btn btn-primary mr-8 fixed-btn-width",label:"SAVE_BTN_LABEL",icon:ee?Object(F.jsx)(R.a,{style:c.h,animation:"border",variant:"light",size:"sm"}):Object(F.jsx)(P.a,{style:c.h})},cancel:{role:"link-button",type:"button",linkto:"/shipping-agency",className:"btn btn-outline-primary fixed-btn-width",label:"CANCEL_BTN_LABEL",icon:Object(F.jsx)(p.a,{})}}}}),[ee]),Be=Object(r.useMemo)((function(){return Object(i.a)(Object(i.a)({},Object(E.j)(we)),{},{status:"0"})}),[we]),ke=Object(r.useMemo)((function(){return Object(i.a)(Object(i.a)({},Be),{},{owner:Object(i.a)(Object(i.a)({},Be.owner),Ie)})}),[Be,Ie]);return Object(F.jsxs)(r.Fragment,{children:[Object(F.jsxs)(b.d,{children:[Object(F.jsx)(b.b,{path:"/shipping-agency/new",children:Object(F.jsx)(O.a,{moduleName:U,onModify:ae,formModel:we,entity:ke,actions:Ve,validation:qe,homePageUrl:c.b.shippingAgency})}),Object(F.jsx)(b.b,{path:"/shipping-agency/:code",children:function(e){var t=e.match;return Object(F.jsx)(O.a,{onModify:ne,moduleName:U,code:null===t||void 0===t?void 0:t.params.code,get:g,formModel:xe,actions:Ve,validation:qe,homePageUrl:c.b.shippingAgency})}}),Object(F.jsxs)(b.b,{path:"/shipping-agency",children:[Object(F.jsx)(s.a,{title:"PRODUCT_TYPE.MASTER.HEADER.TITLE",onSearch:function(e){K(c.a),Z(e)},searchModel:{code:{type:"string",label:"SHIPPING_AGENCY.MASTER.SEARCH.CODE"},name:{type:"string",label:"SHIPPING_AGENCY.MASTER.SEARCH.NAME"},phone:{type:"string-number",label:"SHIPPING_AGENCY.MASTER.SEARCH.PHONE"}}}),Object(F.jsx)(l.a,{title:"SHIPPING_AGENCY.MASTER.TABLE.TITLE",onCreate:function(){t.push("".concat(window.location.pathname,"/new"))},onDeleteMany:function(){return J(!0)},selectedEntities:G,onSelectMany:j,entities:N,total:$,columns:se,loading:ee,paginationParams:X,setPaginationParams:K,isShowId:!0})]})]}),Object(F.jsx)(C.a,{title:"SHIPPING_AGENCY.DETAIL_DIALOG.TITLE",moduleName:U,entity:w,onHide:function(){W(!1)},show:k,size:"lg",renderInfo:le}),Object(F.jsx)(u.a,{entity:A,onDelete:oe,isShow:q,loading:ee,error:te,onHide:function(){V(!1)},title:"SHIPPING_AGENCY.DELETE_DIALOG.TITLE",bodyTitle:"SHIPPING_AGENCY.DELETE_DIALOG.BODY_TITLE"}),Object(F.jsx)(I.a,{moduleName:U,selectedEntities:G,loading:ee,isShow:z,onDelete:re,error:te,onHide:function(){J(!1)}})]})}}}]);
//# sourceMappingURL=34.5d0687c5.chunk.js.map