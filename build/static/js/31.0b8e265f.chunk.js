(this.webpackJsonpdemo1=this.webpackJsonpdemo1||[]).push([[31],{1736:function(e,t,a){"use strict";var n=a(60),i=a(0),o=a.n(i),c=a(1918),r=a(8),l=a(18),s=a(1740),d=a(73),u=a(65),E=a(1720),b=a.n(E),m=a(1719),j=a.n(m),O=a(270),f=a(1722),T=a(147),M=a(1);var D=function(e){var t=e.entity,a=e.onModify,E=(e.moduleName,e.onHide),m=e.modifyPanel,D=e.validation,S=e.loading,y=Object(u.a)(),N=(m._title,Object(n.a)(m,["_title"])),A=Object(i.useMemo)((function(){return Object(T.j)({_header:"",panel1:m})}),[m]),h=Object(i.useState)(A),g=Object(l.a)(h,2),p=g[0],R=g[1];return Object(i.useEffect)((function(){R(null!==t&&void 0!==t?t:A)}),[t,A]),Object(M.jsx)(d.d,{enableReinitialize:!0,initialValues:p,validationSchema:D,onSubmit:function(e,n){var i=n.setSubmitting;a(Object(r.a)(Object(r.a)(Object(r.a)({},t),e),{},{__v:void 0})).then((function(){E()})).catch((function(e){i(!1)}))},children:function(e){var t=e.handleSubmit;return Object(M.jsxs)(M.Fragment,{children:[Object(M.jsx)(c.a.Body,{className:"overlay overlay-block cursor-default",children:Object(M.jsx)(d.c,{className:"form form-label-right",children:Object.keys(N).map((function(e){return Object(M.jsx)(o.a.Fragment,{children:Object(M.jsx)(f.a,{inputGroups:N})},e)}))})}),Object(M.jsxs)(c.a.Footer,{className:"border-top-0 pt-10",children:[Object(M.jsxs)("button",{type:"submit",onClick:function(){return t()},className:"btn btn-primary fixed-btn-width",children:[!0===S?Object(M.jsx)(s.a,{animation:"border",variant:"light",size:"sm"}):Object(M.jsx)(b.a,{style:O.h}),"\xa0",y.formatMessage({id:"COMMON_COMPONENT.MODIFY_DIALOG.SAVE_BTN"})]}),Object(M.jsxs)("button",{type:"button",onClick:E,className:"btn btn-outline-primary fixed-btn-width",children:[Object(M.jsx)(j.a,{style:O.h}),y.formatMessage({id:"COMMON_COMPONENT.MODIFY_DIALOG.CLOSE_BTN"})]})]})]})}})},S=a(41),y=a.n(S);t.a=function(e){var t=e.show,a=e.onHide,i=e.entity,o=e.onModify,r=e.size,l=void 0===r?"sm":r,s=e.moduleName,d=void 0===s?"COMMON_COMPONENT.DETAIL_DIALOG.MODULE_NAME":s,E=e.formModel,b=e.validation,m=e.loading,j=Object(u.a)(),O=E._header,f=Object(n.a)(E,["_header"]);return Object(M.jsxs)(c.a,{size:l,show:t,onHide:a,"aria-labelledby":"example-modal-sizes-title-lg",dialogClassName:"modal-modify",children:[Object(M.jsx)(c.a.Header,{closeButton:!0,className:"border-bottom-0",children:Object(M.jsx)(c.a.Title,{id:"example-modal-sizes-title-lg",className:"text-primary",children:y.a.isString(O)?j.formatMessage({id:O},{moduleName:j.formatMessage({id:null!==d&&void 0!==d?d:"EMPTY"})}).toUpperCase():O(i)})}),Object.values(f).map((function(e,t){if(y.a.isString(e))throw new Error("S\u1eed d\u1ee5ng sai c\xe1ch "+e);return Object(M.jsx)(D,{modifyPanel:e,validation:b,entity:i,onHide:a,onModify:o,loading:m},"tttttttt".concat(t))}))]})}},1932:function(e,t,a){"use strict";a.r(t);var n=a(18),i=a(1766),o=a(8),c=a(0),r=a(51),l=a.n(r),s=a(78),d=s.a+"/student",u=d+"/bulk",E=(s.a,function(e){return l.a.post(d,e)}),b=function(e){var t=e.queryProps,a=e.sortList,n=e.paginationProps;return l.a.get("".concat(d),{params:Object(o.a)(Object(o.a)(Object(o.a)({},t),n),{},{sortList:a})})},m=function(e){var t=e.queryProps,a=e.sortList,n=e.paginationProps;return l.a.get("".concat(d,"/count"),{params:Object(o.a)(Object(o.a)(Object(o.a)({},t),n),{},{sortList:a})})},j=function(e){return l.a.get("".concat(d,"/").concat(e._id))},O=function(e){return l.a.put("".concat(d,"/").concat(e._id),e)},f=function(e){return l.a.delete("".concat(d,"/").concat(e._id))},T=function(e){return l.a.delete(u,{data:{data:e}})},M=a(270),D=a(1728),S=a(147),y=a(69),N=a(1725),A=a(1721),h=a(1726),g=a(1736),p=a(1732),R=a(1735),x=a(21),U=a(1759),_=a(413),v=a(1);t.default=function(){var e=Object(S.i)({getServer:j,countServer:m,createServer:E,deleteServer:f,deleteManyServer:T,getAllServer:b,updateServer:O}),t=e.entities,a=e.intl,r=e.deleteEntity,l=e.setDeleteEntity,s=e.editEntity,d=e.setEditEntity,u=e.createEntity,L=e.selectedEntities,F=e.setSelectedEntities,H=e.detailEntity,I=e.showDelete,C=e.setShowDelete,w=e.showEdit,P=e.setShowEdit,Y=e.showCreate,G=e.setShowCreate,B=e.showDetail,k=e.setShowDetail,z=e.showDeleteMany,q=e.setShowDeleteMany,V=e.paginationProps,J=e.setPaginationProps,W=e.filterProps,K=e.setFilterProps,Q=e.total,X=e.loading,Z=e.error,$=(e.setError,e.add),ee=e.update,te=e.get,ae=e.deleteMany,ne=e.deleteFn,ie=e.getAll,oe="STUDENT.MODULE_NAME";Object(c.useEffect)((function(){ie(W)}),[V,W]);var ce=Object(c.useMemo)((function(){return{code:Object(o.a)({dataField:"code",text:"".concat(a.formatMessage({id:"STUDENT.MASTER.HEADER.CODE"}))},M.e),email:Object(o.a)({dataField:"email",text:"".concat(a.formatMessage({id:"STUDENT.MASTER.HEADER.EMAIL"}))},M.e),gender:Object(o.a)({dataField:"gender",text:"".concat(a.formatMessage({id:"STUDENT.MASTER.HEADER.GENDER"})),formatter:function(e){return"1"===e?"Female":"Male"}},M.e),birthDay:Object(o.a)({dataField:"birthDay",text:"".concat(a.formatMessage({id:"STUDENT.MASTER.HEADER.BIRTHDAY"})),formatter:function(e){return Object(v.jsx)(x.g,{input:e,_format:"dd/MM/yyyy"})}},M.e),fullName:Object(o.a)({dataField:"fullName",text:"".concat(a.formatMessage({id:"STUDENT.MASTER.HEADER.FULLNAME"}))},M.e),faculty:Object(o.a)({dataField:"faculty.faculty",text:"".concat(a.formatMessage({id:"STUDENT.MASTER.HEADER.FACULTY"}))},M.e),action:Object(o.a)(Object(o.a)({dataField:"action",text:"".concat(a.formatMessage({id:"STUDENT.MASTER.TABLE.ACTION_COLUMN"})),formatter:D.a,formatExtraData:{intl:a,onShowDetail:function(e){te(e),k(!0)},onDelete:function(e){l(e),C(!0)},onEdit:function(e){te(e).then((function(e){d(e.data),P(!0)}))}}},M.c),{},{style:{minWidth:"130px"}})}}),[]),re=Object(c.useMemo)((function(){return[{className:"col-md-6 col-12",dataClassName:"col-md-12 col-12 text-lg-center",data:{image:{formatter:function(e){return Object(v.jsx)(_.a,{images:e,width:200,height:200})}}}},{className:"col-md-6 col-12",dataClassName:"col-md-8 col-12",data:{fullName:{title:"STUDENT.MASTER.HEADER.FULLNAME"},gender:{title:"STUDENT.MASTER.HEADER.GENDER",formatter:function(e,t){return Object(v.jsx)(v.Fragment,{children:"1"===e?"Female":"Male"})}},birthDay:{title:"STUDENT.MASTER.HEADER.BIRTHDAY",formatter:function(e){return Object(v.jsx)(x.g,{input:e,_format:"dd/MM/yyyy"})}},"faculty.faculty":{title:"FACULTY"},file:{title:"FILE_NAME",formatter:function(e){console.log(e);var t=function(e){var t=e.input,a=e.key,n=e.name;return Object(x.j)(t,a,n)};return Object(v.jsx)(v.Fragment,{children:null===e||void 0===e?void 0:e.map((function(e,a){var n=e.path.split("-"),o=Object(i.a)(n),c=(o[0],o.slice(1).join(""));return Object(v.jsx)(t,{input:"/"+e.path,name:c},"tt".concat(a))}))})}}}}]}),[]),le=Object(c.useMemo)((function(){return{fullName:{type:"string",label:"STUDENT.MASTER.HEADER.FULLNAME"},code:{type:"string",label:"STUDENT.MASTER.HEADER.CODE"},birthDay:{type:"date-time",label:"STUDENT.MASTER.HEADER.BIRTHDAY"},faculty:{type:"search-select",label:"STUDENT.MASTER.HEADER.FACULTY",onSearch:U.f,keyField:"faculty"}}}),[]),se=Object(c.useState)(le),de=Object(n.a)(se,2),ue=de[0],Ee=(de[1],Object(c.useState)({_subTitle:"",code:{_type:"string",label:"STUDENT.MASTER.HEADER.CODE"},email:{_type:"string",label:"STUDENT.MASTER.HEADER.EMAIL"},birthDay:{_type:"date-time",label:"STUDENT.MASTER.HEADER.BIRTHDAY"},gender:{_type:"radio",options:[{label:"USER.MODIFY.GENDER_OPTION.MALE",value:"0"},{label:"USER.MODIFY.GENDER_OPTION.FEMALE",value:"1"}],label:"STUDENT.MASTER.HEADER.GENDER"},fullName:{_type:"string",label:"STUDENT.MASTER.HEADER.FULLNAME"},faculty:{_type:"search-select",label:"PRODUCT_PACKAGING.MASTER.TABLE.NAME_COLUMN",onSearch:U.f,disabled:!1,required:!0,keyField:"faculty"},image:{_type:"image",maxNumber:1,label:"USER.MODIFY.IMAGE",isArray:!1},file:{_type:"file",label:"FILE",maxNumber:3,isArray:!0}})),be=Object(n.a)(Ee,2),me=be[0],je=(be[1],Object(c.useMemo)((function(){return{_header:"STUDENT.CREATE.TITLE",panel1:{_title:"",group1:me}}}),[me])),Oe=Object(c.useMemo)((function(){return Object(o.a)(Object(o.a)({},je),{},{_header:"STUDENT.EDIT.TITLE"})}),[je]);return console.log(u),Object(v.jsxs)(c.Fragment,{children:[Object(v.jsx)(N.a,{title:"STUDENT.VIEW.TITLE",moduleName:oe,show:B,entity:H,renderInfo:re,onHide:function(){k(!1)}}),Object(v.jsx)(p.a,{moduleName:oe,entity:r,onDelete:ne,isShow:I,onHide:function(){C(!1),K(Object(o.a)({},W))},loading:X,error:Z}),Object(v.jsx)(R.a,{moduleName:oe,selectedEntities:L,loading:X,error:Z,isShow:z,onDelete:ae,onHide:function(){q(!1),K(Object(o.a)({},W))}}),Object(v.jsx)(g.a,{formModel:je,show:Y,onModify:$,onHide:function(){G(!1)},loading:X}),Object(v.jsx)(g.a,{formModel:Oe,show:w,entity:s,onModify:ee,onHide:function(){P(!1)},loading:X}),Object(v.jsxs)(y.d,{children:[Object(v.jsx)(y.a,{from:"/account/student/edit",to:"/account/student"}),Object(v.jsxs)(y.b,{path:"/account/student",children:["`",Object(v.jsx)(A.a,{title:"STUDENT.MASTER.HEADER.TITLE",onSearch:function(e){J(M.a),K(e)},searchModel:ue}),Object(v.jsx)(h.a,{title:"STUDENT.MASTER.BODY.TITLE",onCreate:function(){G(!0)},onDeleteMany:function(){return q(!0)},selectedEntities:L,onSelectMany:F,entities:t,total:Q,columns:ce,loading:X,paginationParams:V,setPaginationParams:J,isShowId:!0})]})]})]})}}}]);
//# sourceMappingURL=31.0b8e265f.chunk.js.map