(this.webpackJsonpdemo1=this.webpackJsonpdemo1||[]).push([[22],{1723:function(t,e,n){"use strict";var a=n(171),r=n(172);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var c=r(n(0)),i=(0,a(n(173)).default)(c.createElement("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"}),"Delete");e.default=i},1738:function(t,e,n){"use strict";var a=n(171),r=n(172);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var c=r(n(0)),i=(0,a(n(173)).default)(c.createElement("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"}),"Add");e.default=i},1741:function(t,e,n){"use strict";n.d(e,"b",(function(){return u})),n.d(e,"f",(function(){return d})),n.d(e,"a",(function(){return l})),n.d(e,"e",(function(){return f})),n.d(e,"g",(function(){return b})),n.d(e,"c",(function(){return j})),n.d(e,"d",(function(){return p}));var a=n(8),r=n(51),c=n.n(r),i=n(78),o=i.a+"/role",s=o+"/bulk",u=(i.a,function(t){return c.a.post(o,t)}),d=function(t){var e=t.queryProps,n=t.sortList,r=t.paginationProps;return c.a.get("".concat(o),{params:Object(a.a)(Object(a.a)(Object(a.a)({},e),r),{},{sortList:n})})},l=function(t){var e=t.queryProps,n=t.sortList,r=t.paginationProps;return c.a.get("".concat(o,"/count"),{params:Object(a.a)(Object(a.a)(Object(a.a)({},e),r),{},{sortList:n})})},f=function(t){return c.a.get("".concat(o,"/").concat(t._id))},b=function(t){return c.a.put("".concat(o,"/").concat(t._id),t)},j=function(t){return c.a.delete("".concat(o,"/").concat(t._id))},p=function(t){return c.a.delete(s,{data:{data:t}})}},1742:function(t,e,n){"use strict";n.d(e,"b",(function(){return s})),n.d(e,"f",(function(){return u})),n.d(e,"a",(function(){return d})),n.d(e,"g",(function(){return l})),n.d(e,"e",(function(){return f})),n.d(e,"h",(function(){return b})),n.d(e,"c",(function(){return j})),n.d(e,"d",(function(){return p}));var a=n(8),r=n(51),c=n.n(r),i=n(78).a+"/user",o=i+"/bulk",s=function(t){return c.a.post(i,t)},u=function(t){var e=t.queryProps,n=t.sortList,r=t.paginationProps;return c.a.get("".concat(i),{params:Object(a.a)(Object(a.a)(Object(a.a)({},e),r),{},{sortList:n})})},d=function(t){return c.a.get("".concat(i,"/get/count"),{params:Object(a.a)({},t)})},l=function(t){return c.a.get("".concat(i,"/").concat(t))},f=function(t){return c.a.get("".concat(i,"/").concat(t._id))},b=function(t){return c.a.put("".concat(i,"/").concat(t._id),t)},j=function(t){return c.a.delete("".concat(i,"/").concat(t._id))},p=function(t){return c.a.delete(o,{data:{data:t}})}},1753:function(t,e,n){"use strict";var a=n(171),r=n(172);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var c=r(n(0)),i=(0,a(n(173)).default)(c.createElement("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.9959.9959 0 00-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z"}),"Edit");e.default=i},1760:function(t,e,n){"use strict";n.d(e,"b",(function(){return f})),n.d(e,"h",(function(){return b})),n.d(e,"f",(function(){return j})),n.d(e,"a",(function(){return p})),n.d(e,"e",(function(){return O})),n.d(e,"g",(function(){return g})),n.d(e,"c",(function(){return m})),n.d(e,"d",(function(){return v}));var a=n(8),r=n(51),c=n.n(r),i=n(41),o=n.n(i),s=n(78),u=s.a+"/management-unit",d=(s.a,u+"/tree"),l=u+"/bulk",f=(s.a,function(t){return c.a.post(u,t)}),b=function(t){var e=t.queryProps,n=t.sortList,r=t.paginationProps;return c.a.get("".concat(u),{params:Object(a.a)(Object(a.a)(Object(a.a)({},e),r),{},{sortList:n})}).then((function(t){if(o.a.isArray(t.data)){var e=t.data;t.data={},(null===r||void 0===r?void 0:r.page)&&(null===r||void 0===r?void 0:r.limit)&&(t.data.data=e.slice((r.page-1)*r.limit,r.page*r.limit),t.data.paging={page:r.page,limit:r.limit,total:e.length})}return t}))},j=function(t){var e=t.queryProps,n=t.sortList,r=t.paginationProps;return c.a.get("".concat(d),{params:Object(a.a)(Object(a.a)(Object(a.a)({},e),r),{},{sortList:n})})},p=function(t){var e=t.queryProps,n=t.sortList,r=t.paginationProps;return c.a.get("".concat(u,"/count"),{params:Object(a.a)(Object(a.a)(Object(a.a)({},e),r),{},{sortList:n})})},O=function(t){return c.a.get("".concat(u,"/").concat(t._id))},g=function(t){return c.a.put("".concat(u,"/").concat(t._id),t)},m=function(t){return c.a.delete("".concat(u,"/").concat(t._id))},v=function(t){return c.a.delete(l,{data:{listSpecies:t}})}},1776:function(t,e,n){},1777:function(t,e,n){},1778:function(t,e,n){"use strict";var a=n(0),r=n.n(a),c=n(65),i=n(74),o=n(506),s=n(18),u=n(2),d=n(15),l=n(4),f=n.n(l),b=n(25),j=r.a.forwardRef((function(t,e){var n=t.bsPrefix,a=t.className,c=t.striped,i=t.bordered,o=t.borderless,s=t.hover,l=t.size,j=t.variant,p=t.responsive,O=Object(d.a)(t,["bsPrefix","className","striped","bordered","borderless","hover","size","variant","responsive"]),g=Object(b.a)(n,"table"),m=f()(a,g,j&&g+"-"+j,l&&g+"-"+l,c&&g+"-striped",i&&g+"-bordered",o&&g+"-borderless",s&&g+"-hover"),v=r.a.createElement("table",Object(u.a)({},O,{className:m,ref:e}));if(p){var h=g+"-responsive";return"string"===typeof p&&(h=h+"-"+p),r.a.createElement("div",{className:h},v)}return v})),p=n(1738),O=n.n(p),g=n(1753),m=n.n(g),v=n(1723),h=n.n(v),x=(n(1776),n(1)),y=function(t){var e=t.data,n=t.onCreate,c=t.onEdit,i=t.onDelete,o=t.onFetchEntities,u=Object(a.useState)(),d=Object(s.a)(u,2),l=d[0],f=d[1];return Object(x.jsx)(x.Fragment,{children:Object(x.jsx)(j,{borderless:!0,style:{tableLayout:"fixed"},className:"tree-table",children:Object(x.jsx)("tbody",{children:function t(e,a,s){return Object(x.jsx)(x.Fragment,{children:e.map((function(e,u){return Object(x.jsxs)(r.a.Fragment,{children:[Object(x.jsxs)("tr",{style:{backgroundColor:l===e._id?"rgba(39, 174, 96,0.1)":"transparent"},children:[Object(x.jsx)("td",{onClick:function(){return function(t){console.log(t),f(t._id),o&&o(t)}(e)},className:l===e._id?"text-primary font-weight-700":"",children:Object(x.jsx)("div",{style:{marginLeft:"".concat(a,"px")},children:Object(x.jsx)("span",{onClick:function(){},style:{cursor:"pointer"},children:e.name})})}),(n||c||i)&&Object(x.jsx)("td",{children:Object(x.jsxs)("div",{className:"text-right",children:[n&&Object(x.jsx)("button",{style:{backgroundColor:"transparent",border:"none"},onClick:function(){return function(t){n&&n(t)}(e)},className:"text-primary",children:Object(x.jsx)(O.a,{})}),c&&Object(x.jsx)("button",{style:{backgroundColor:"transparent",border:"none"},onClick:function(){return function(t){c&&c(t)}(e)},className:"text-primary",children:Object(x.jsx)(m.a,{})}),i&&Object(x.jsx)("button",{style:{backgroundColor:"transparent",border:"none"},onClick:function(){return function(t){console.log(t),i&&i(t)}(e)},className:"text-primary",children:Object(x.jsx)(h.a,{})})]})})]}),e.children&&e.children.length>0&&t(e.children,a+s,s)]},"childrenren"+u)}))})}(e,0,25)})})})};n(1777),e.a=function(t){var e=t.title,n=t.body,r=t.onCreate,s=t.onEdit,u=t.onDelete,d=t.onFetchEntities,l=Object(c.a)();return Object(x.jsxs)(i.a,{children:[e&&Object(x.jsx)(i.c,{title:l.formatMessage({id:e})}),Object(x.jsx)(i.b,{children:Object(x.jsx)("div",{className:"row no-gutters mb-10 justify-content-between",children:n.map((function(t,e){switch(t.type){case"Tree":return Object(x.jsx)(a.Fragment,{children:Object(x.jsx)("div",{className:"col-xl-".concat(12/n.length," col-12 pr-xl-3"),children:Object(x.jsxs)("div",{className:"p-5 layout",children:[t.title&&Object(x.jsxs)("p",{style:{fontWeight:"bold"},children:[l.formatMessage({id:t.title}),Object(x.jsx)("span",{className:"text-primary",style:{cursor:"pointer"},onClick:function(){r&&r(null)},children:Object(x.jsx)(O.a,{})})]}),Object(x.jsx)(y,{data:t.data,onCreate:r,onEdit:s,onDelete:u,onFetchEntities:d})]})})},e);case"Table":return Object(x.jsx)(a.Fragment,{children:Object(x.jsx)("div",{className:"col-xl-".concat(12/n.length," col-12 pl-xl-3"),children:Object(x.jsxs)("div",{className:"p-5 layout",children:[t.title&&Object(x.jsx)("p",{style:{fontWeight:"bold"},children:l.formatMessage({id:t.title})}),Object(x.jsx)(o.a,{entities:t.data,columns:t.prop.columns,total:t.prop.total,loading:t.prop.loading,paginationParams:t.prop.paginationParams,setPaginationParams:t.prop.setPaginationParams})]})})},e)}return Object(x.jsx)(x.Fragment,{})}))})})]})}},1914:function(t,e,n){"use strict";n.r(e),n.d(e,"default",(function(){return p}));var a=n(8),r=n(18),c=n(0),i=n.n(c),o=n(65),s=n(270),u=n(147),d=n(1778),l=n(1760),f=n(1742),b=n(1741),j=n(1);function p(){var t=Object(u.i)({getServer:l.e,countServer:l.a,createServer:l.b,deleteServer:l.c,deleteManyServer:l.d,getAllServer:l.f,updateServer:l.g}),e=t.entities,n=t.selectedEntities,p=t.setSelectedEntities,O=t.paginationProps,g=t.setPaginationProps,m=t.getAll,v=Object(o.a)(),h=Object(c.useState)([]),x=Object(r.a)(h,2),y=x[0],E=x[1],P=Object(c.useState)(0),_=Object(r.a)(P,2),M=_[0],N=_[1],S=Object(c.useState)([]),A=Object(r.a)(S,2),L=A[0],T=A[1],F=Object(c.useState)(!1),k=Object(r.a)(F,2),C=k[0],R=k[1],q=Object(c.useState)({role:{_id:""}}),I=Object(r.a)(q,2),w=I[0],z=I[1],D=Object(c.useState)(""),U=Object(r.a)(D,2),B=(U[0],U[1]);Object(c.useEffect)((function(){m()}),[]),Object(c.useEffect)((function(){var t;""!==(null===w||void 0===w||null===(t=w.role)||void 0===t?void 0:t._id)&&(R(!0),f.f({queryProps:w,paginationProps:O}).then((function(t){E(t.data.data),R(!1),N(t.data.paging.total),B("")})).catch((function(t){R(!1),B(t.message)})))}),[O,w]);Object(c.useEffect)((function(){if((null===e||void 0===e?void 0:e.length)>0){var t=e.map((function(t){var e={managementUnit:{_id:t._id}};return b.f({queryProps:e,paginationProps:Object(a.a)(Object(a.a)({},s.a),{},{limit:2e3})})}));Promise.all(t).then((function(t){var n=t.map((function(t,n){return Object(a.a)(Object(a.a)({},e[n]),{},{children:t.data.data})}));T(n)}))}}),[e]);var G=[{type:"Tree",data:L},{title:"MANAGEMENT_ORGANIZATION.MASTER.TABLE.STAFF_LIST",type:"Table",data:y,prop:{columns:i.a.useMemo((function(){return[{dataField:"_id",text:"".concat(v.formatMessage({id:"ORDINAL"})),formatter:function(t,e,n){var a,r;return Object(j.jsx)("p",{children:n+1+((null!==(a=O.page)&&void 0!==a?a:0)-1)*(null!==(r=O.limit)&&void 0!==r?r:0)})},style:{paddingTop:20}},Object(a.a)(Object(a.a)({dataField:"fullName",text:"".concat(v.formatMessage({id:"USER.MASTER.TABLE.DISPLAY_NAME"}))},s.e),{},{align:"center"}),Object(a.a)(Object(a.a)({dataField:"email",text:"".concat(v.formatMessage({id:"USER.MASTER.TABLE.EMAIL"}))},s.e),{},{align:"center"}),Object(a.a)(Object(a.a)({dataField:"phone",text:"".concat(v.formatMessage({id:"USER.MASTER.TABLE.PHONE"}))},s.e),{},{align:"center"})]}),[O]),total:M,loading:C,paginationParams:O,setPaginationParams:g,onSelectMany:p,selectedEntities:n}}];return Object(j.jsx)(j.Fragment,{children:Object(j.jsx)(d.a,{title:"MANAGEMENT_ORGANIZATION.MODULE_NAME",body:G,onFetchEntities:function(t){g(s.a),z(function(t){return t.children?{managementUnit:{_id:t._id}}:{role:{_id:t._id}}}(t))}})})}}}]);
//# sourceMappingURL=22.90f83103.chunk.js.map