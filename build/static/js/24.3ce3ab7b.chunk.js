(this.webpackJsonpdemo1=this.webpackJsonpdemo1||[]).push([[24],{1721:function(e,t,a){"use strict";a.d(t,"a",(function(){return f}));var n=a(8),c=a(0),s=a(65),r=a(73),i=a(1724),o=a.n(i),l=a(74),d=a(61),u=a(23),m=a(270),j=a(505),b=a.n(j),O=(a(1727),a(1731)),h=a(1);function f(e){var t=e.title,a=e.onSearch,i=e.searchModel,j=e.initValue,f=void 0===j?{}:j,g=(e.value,e.onClickBack),x=Object(s.a)(),p="col-xxl-2 col-md-3 master-header-search-input-margin";return Object(h.jsxs)(l.a,{className:"master-header-card",children:[Object(h.jsx)(l.c,{title:g?Object(h.jsxs)("span",{onClick:g,className:"cursor-pointer text-primary font-weight-boldest",children:[Object(h.jsx)(b.a,{}),x.formatMessage({id:t}).toUpperCase()]}):x.formatMessage({id:t}).toUpperCase()}),Object(h.jsx)(l.b,{children:Object(h.jsx)(r.d,{initialValues:f,onSubmit:function(e){a&&a(Object(n.a)({},e))},onReset:function(e){a&&a({})},children:function(e){var t=e.values,s=e.handleSubmit,r=(e.handleBlur,e.handleChange,e.setFieldValue,e.resetForm);return Object(h.jsxs)("form",{onSubmit:s,className:"form form-label-right",children:[Object(h.jsx)("div",{className:"form-group row master-header-search-margin",children:i?Object.keys(i).map((function(e){switch(i[e].type){case"string":return Object(c.createElement)(O.j,Object(n.a)(Object(n.a)({className:p,name:e},i[e]),{},{key:"master_header".concat(e)}));case"string-number":return Object(c.createElement)(O.k,Object(n.a)(Object(n.a)({className:p,name:e},i[e]),{},{key:"master_header".concat(e)}));case"number":return Object(c.createElement)(O.f,Object(n.a)(Object(n.a)({className:p,name:e},i[e]),{},{key:"master_header".concat(e)}));case"date-time":return Object(c.createElement)(O.c,Object(n.a)(Object(n.a)({className:p,name:e},i[e]),{},{key:"master_header".concat(e)}));case"search-select":var a;if(void 0===i[e].onSearch||null===i[e].onSearch)return;return Object(c.createElement)(O.h,Object(n.a)(Object(n.a)({className:p,name:e,value:t[e]},i[e]),{},{onSearch:null!==(a=i[e].onSearch)&&void 0!==a?a:function(e){return null},key:"master_header".concat(e)}));case"tree-select":var s;if(void 0===i[e].onSearch||null===i[e].onSearch)return;return Object(c.createElement)(O.m,Object(n.a)(Object(n.a)({className:p,name:e},i[e]),{},{onSearch:null!==(s=i[e].onSearch)&&void 0!==s?s:function(e){return null},key:"master_header".concat(e)}))}return Object(h.jsx)(h.Fragment,{})})):Object(h.jsx)(h.Fragment,{})}),a&&Object(h.jsxs)("div",{className:"row no-gutters",children:[Object(h.jsxs)("button",{className:"btn btn-primary mr-8 fixed-btn-width",type:"submit",children:[Object(h.jsx)(o.a,{style:m.h}),x.formatMessage({id:"COMMON_COMPONENT.MASTER_HEADER.SEARCH_BTN"})]}),Object(h.jsxs)("button",{className:"btn btn-outline-primary fixed-btn-width",type:"reset",onClick:function(){return function(e){e()}(r)},children:[Object(h.jsx)(d.a,{src:Object(u.a)("/media/svg/vncheck/reset-filter.svg"),style:m.h}),x.formatMessage({id:"COMMON_COMPONENT.MASTER_HEADER.RESET_FILTER_BTN"})]})]})]})}})})]})}},1724:function(e,t,a){"use strict";var n=a(171),c=a(172);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=c(a(0)),r=(0,n(a(173)).default)(s.createElement("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"}),"Search");t.default=r},1725:function(e,t,a){"use strict";a.d(t,"a",(function(){return m}));a(0);var n=a(1918),c=a(1719),s=a.n(c),r=a(65),i=a(270),o=a(41),l=a.n(o),d=a(221),u=a(1);function m(e){var t=e.title,a=void 0===t?"COMMON_COMPONENT.DETAIL_DIALOG.HEADER_TITLE":t,c=e.moduleName,o=void 0===c?"COMMON_COMPONENT.DETAIL_DIALOG.MODULE_NAME":c,l=e.show,d=e.entity,m=e.onHide,b=e.renderInfo,O=e.size,h=void 0===O?"sm":O,f=Object(r.a)();return Object(u.jsxs)(n.a,{size:h,show:l,onHide:m,"aria-labelledby":"example-modal-sizes-title-lg",dialogClassName:"modal-detail",children:[Object(u.jsx)(n.a.Header,{closeButton:!0,className:"border-bottom-0",children:Object(u.jsx)(n.a.Title,{id:"example-modal-sizes-title-lg",className:"text-primary",children:f.formatMessage({id:a},{moduleName:f.formatMessage({id:o})}).toUpperCase()})}),Object(u.jsx)(j,{entity:d,renderInfo:b}),Object(u.jsx)(n.a.Footer,{className:"border-top-0",children:Object(u.jsxs)("button",{type:"button",onClick:m,className:"btn btn-outline-primary fixed-btn-width",children:[Object(u.jsx)(s.a,{style:i.h}),f.formatMessage({id:"COMMON_COMPONENT.DETAIL_DIALOG.CLOSE_BTN"})]})})]})}function j(e){var t=e.entity,a=e.renderInfo,c=Object(r.a)();return t?Object(u.jsx)(n.a.Body,{children:Object(u.jsx)("div",{className:"row",children:a.map((function(e,a){var n;return Object(u.jsxs)("div",{className:"".concat(null!==(n=e.className)&&void 0!==n?n:"col-12"),children:[e.header&&""!==e.header&&Object(u.jsx)("p",{className:"text-primary detail-dialog-subtitle",children:c.formatMessage({id:e.header})}),Object.keys(e.data).map((function(a){var n,s;return Object(u.jsxs)("div",{className:"detail-dialog-row-info row",children:[e.data[a].title&&""!==e.data[a].title&&Object(u.jsxs)("div",{className:"".concat(null!==(n=e.titleClassName)&&void 0!==n?n:"col-4"),children:[c.formatMessage({id:e.data[a].title}),":"]}),Object(u.jsx)("div",{className:"".concat(null!==(s=e.dataClassName)&&void 0!==s?s:"col-8"),children:function(){var n,c=e.data[a],s=null!==(n=c.keyField)&&void 0!==n?n:a,r=s.indexOf("[")>-1?Object(d.b)(t,s):Object(d.b)(t,s)[0];return c.formatter?c.formatter(r,t):Object(u.jsx)(u.Fragment,{children:l.a.isNumber(r)||l.a.isString(r)?r:JSON.stringify(r)})}()})]},a)}))]},a)}))})}):Object(u.jsx)(u.Fragment,{})}},1726:function(e,t,a){"use strict";a.d(t,"a",(function(){return f}));var n=a(8),c=a(66),s=a(0),r=a(74),i=a(1730),o=a.n(i),l=a(1738),d=a.n(l),u=a(65),m=a(270),j=a(506),b=a(41),O=a.n(b),h=a(1);function f(e){var t=e.entities,a=e.total,i=e.loading,l=e.paginationParams,b=e.setPaginationParams,f=e.onSelectMany,g=e.onCreate,x=e.selectedEntities,p=void 0===x?[]:x,v=e.columns,N=e.onDeleteMany,E=e.isShowId,y=e.title,M=e.hideHeaderButton,S=e.additionalActionComponent,_=Object(u.a)(),T=S,C=Object(s.useMemo)((function(){return{dataField:"_id",text:"STT",formatter:function(e,t,a){var n,c;return Object(h.jsx)(s.Fragment,{children:a+1+((null!==(n=l.page)&&void 0!==n?n:0)-1)*(null!==(c=l.limit)&&void 0!==c?c:0)})},headerClasses:"text-center",align:"center"}}),[l]),A=E?O.a.isArray(v)?[C].concat(Object(c.a)(v)):Object(n.a)({_id:C},v):v;return Object(h.jsxs)(r.a,{className:"master-body-card",children:[y&&Object(h.jsx)(r.c,{title:_.formatMessage({id:y}).toUpperCase()}),Object(h.jsxs)(r.b,{children:[!0!==M&&Object(h.jsxs)("div",{className:"row no-gutters mb-10",children:[g&&Object(h.jsxs)("button",{type:"button",className:"btn btn-primary fixed-btn-width mr-8",onClick:g,children:[Object(h.jsx)(d.a,{style:m.h}),_.formatMessage({id:"COMMON_COMPONENT.MASTER_BODY.HEADER.ADD_BTN"})]}),N&&Object(h.jsxs)("button",{type:"button",className:"btn btn-outline-primary fixed-btn-width",onClick:function(){f&&f(p),N()},children:[Object(h.jsx)(o.a,{style:m.h}),_.formatMessage({id:"COMMON_COMPONENT.MASTER_BODY.HEADER.DELETE_BTN"})]}),T&&Object(h.jsx)(T,{})]}),Object(h.jsx)(j.a,{entities:t,columns:A,total:a,loading:i,paginationParams:l,setPaginationParams:b,onSelectMany:f,selectedEntities:p})]})]})}},1727:function(e,t,a){},1730:function(e,t,a){"use strict";var n=a(171),c=a(172);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=c(a(0)),r=(0,n(a(173)).default)(s.createElement("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM8 9h8v10H8V9zm7.5-5l-1-1h-5l-1 1H5v2h14V4h-3.5z"}),"DeleteOutlineOutlined");t.default=r},1733:function(e,t,a){"use strict";var n=a(171),c=a(172);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=c(a(0)),r=(0,n(a(173)).default)(s.createElement("path",{d:"M13 3c-4.97 0-9 4.03-9 9H1l3.89 3.89.07.14L9 12H6c0-3.87 3.13-7 7-7s7 3.13 7 7-3.13 7-7 7c-1.93 0-3.68-.79-4.94-2.06l-1.42 1.42C8.27 19.99 10.51 21 13 21c4.97 0 9-4.03 9-9s-4.03-9-9-9zm-1 5v5l4.28 2.54.72-1.21-3.5-2.08V8H12z"}),"History");t.default=r},1924:function(e,t,a){"use strict";a.r(t);var n=a(8),c=a(18),s=a(0),r=a.n(s),i=a(65),o=a(270),l=a(1721),d=a(1726),u=a(147),m=a(69),j=(a(507),a(1725)),b=a(413),O=a(51),h=a.n(O),f=a(78),g=f.a+"/customer",x=f.a+"/customer-order",p=g+"/bulk",v=(f.a,function(e){return h.a.post(g,e)}),N=function(e){var t=e.queryProps,a=e.sortList,c=e.paginationProps;return h.a.get("".concat(g),{params:Object(n.a)(Object(n.a)(Object(n.a)({},t),c),{},{sortList:a})})},E=function(e){var t=e.queryProps,a=e.sortList,c=e.paginationProps;return h.a.get("".concat(g,"/count"),{params:Object(n.a)(Object(n.a)(Object(n.a)({},t),c),{},{sortList:a})})},y=function(e){return h.a.get("".concat(g,"/").concat(e._id))},M=function(e){return h.a.put("".concat(g,"/").concat(e._id),e)},S=function(e){return h.a.delete("".concat(g,"/").concat(e._id))},_=function(e){return h.a.delete(p,{data:{listSpecies:e}})},T=(new Date,new Date,new Date,new Date,[{buyDate:new Date,species:{_id:"abc",name:"Rau mu\u1ed1ng"},qr:{_id:"ABCXYZ1234A"},store:{_id:"csvks",name:"\u0110\u1ea1i l\xfd s\u1ed1 1",seller:{_id:"c\xe1vav",name:"Nguy\u1ec5n V\u0103n A"}}}]),C=a(1733),A=a.n(C),D=a(74),P=a(505),F=a.n(P),R=a(506),w=a(1);var k=function(e){var t=e.columns,a=e.code,s=e.history,i=e.title,l=e.onFetch,d=r.a.useState(!1),u=Object(c.a)(d,2),m=u[0],j=u[1],b=r.a.useState([]),O=Object(c.a)(b,2),h=O[0],f=O[1],g=r.a.useState(o.a),x=Object(c.a)(g,2),p=x[0],v=x[1],N=r.a.useState(0),E=Object(c.a)(N,2),y=E[0],M=E[1],S=r.a.useState(""),_=Object(c.a)(S,2),T=_[0],C=_[1];return r.a.useEffect((function(){j(!0),l(a,Object(n.a)({},p)).then((function(e){var t,a,n,c,s;f(e.data.data?e.data.data:e.data.products),M(null===(t=e.data)||void 0===t||null===(a=t.paging)||void 0===a?void 0:a.total),C((null===(n=e.data)||void 0===n?void 0:n.code)||(null===(c=e.data)||void 0===c||null===(s=c.customer)||void 0===s?void 0:s.code)||"CHI TI\u1ebeT")})).catch((function(e){return console.log(e)})).finally((function(){j(!1)}))}),[a,p]),console.log(p),Object(w.jsxs)(D.a,{children:[Object(w.jsx)(D.c,{title:Object(w.jsx)(w.Fragment,{children:Object(w.jsxs)("span",{onClick:function(){return s.goBack()},className:" cursor-pointer text-primary font-weight-boldest",children:[Object(w.jsx)(F.a,{})," ",T]})})}),Object(w.jsxs)(D.b,{children:[Object(w.jsx)("div",{className:"mt-8 mb-10",children:Object(w.jsxs)("span",{className:"text-primary detail-dialog-subtitle",children:[i," ",T]})}),Object(w.jsx)(R.a,{entities:h,columns:t,total:y,loading:m,paginationParams:p,setPaginationParams:v})]})]})},H=a(222),L=a.n(H);t.default=function(){var e=Object(i.a)(),t=Object(m.g)(),a=Object(u.i)({getServer:y,countServer:E,createServer:v,deleteServer:S,deleteManyServer:_,getAllServer:N,updateServer:M}),O=a.entities,f=a.detailEntity,p=a.showDetail,C=a.setShowDetail,D=a.paginationProps,P=a.setPaginationProps,F=a.filterProps,R=a.setFilterProps,H=a.total,I=a.loading,U=a.getAll,B=r.a.useState(o.f[0]),z=Object(c.a)(B,2),G=z[0],V=z[1];Object(s.useEffect)((function(){U(Object(n.a)(Object(n.a)({},F),{},{sortBy:G.dataField,sortType:G.order}))}),[D,F]);var q={_id:{dataField:"_id",text:"STT",formatter:function(e,t,a){var n,c;return Object(w.jsx)("p",{children:a+1+((null!==(n=D.page)&&void 0!==n?n:0)-1)*(null!==(c=D.limit)&&void 0!==c?c:0)})},classes:"mr-3",style:{paddingTop:20}},code:Object(n.a)(Object(n.a)({dataField:"code",text:"".concat(e.formatMessage({id:"CUSTOMERS_CODE"}))},o.e),{},{classes:"text-center"}),fullName:Object(n.a)(Object(n.a)({dataField:"fullName",text:"".concat(e.formatMessage({id:"CUSTOMERS_DETAIL_NAME"}))},o.e),{},{classes:"text-center"}),username:Object(n.a)(Object(n.a)({dataField:"username",text:"".concat(e.formatMessage({id:"CUSTOMERS_PHONE_NUMBER"}))},o.e),{},{classes:"text-center"}),createdAt:Object(n.a)(Object(n.a)({dataField:"createdAt",text:"".concat(e.formatMessage({id:"CUSTOMERS_CREATED_AT"})),formatter:function(e,t){return Object(w.jsx)("span",{children:t.createdAt?new Intl.DateTimeFormat("en-GB").format(new Date(t.createdAt)):"Kh\xf4ng c\xf3 th\xf4ng tin"})}},o.e),{},{classes:"text-center",headerClasses:"text-center"}),action:Object(n.a)(Object(n.a)({dataField:"action",text:"".concat(e.formatMessage({id:"CUSTOMERS_DETAIL_ACTION"})),formatter:function(e,a){return Object(w.jsx)("span",{className:"btn btn-icon btn-light btn-hover-primary btn-sm visibility",onClick:function(){t.push({pathname:"/customers-management/"+a._id+"/history",state:T})},children:Object(w.jsx)("span",{className:"svg-icon svg-icon-md svg-icon-primary",children:Object(w.jsx)(A.a,{className:"text-primary eye"})})})}},o.c),{},{style:{minWidth:"130px"}})},Y={code:Object(n.a)(Object(n.a)({dataField:"code",text:"\u0110\u01a0N H\xc0NG",formatter:function(e,t){return Object(w.jsx)("span",{className:"text-primary",style:{fontWeight:600,cursor:"pointer"},children:t.code})}},o.e),{},{classes:"text-center"}),createdAt:Object(n.a)(Object(n.a)({dataField:"createdAt",text:"".concat(e.formatMessage({id:"CUSTOMERS_BUY_DATE"})),formatter:function(e,t){return Object(w.jsx)("span",{children:t.createdAt?new Intl.DateTimeFormat("en-GB").format(new Date(t.createdAt)):"Kh\xf4ng c\xf3 th\xf4ng tin"})}},o.e),{},{classes:"text-center",headerClasses:"text-center"}),sellAgency:Object(n.a)(Object(n.a)({dataField:"sellAgency.name",text:"".concat(e.formatMessage({id:"CUSTOMERS_STORE"}))},o.e),{},{classes:"text-center"}),location:Object(n.a)(Object(n.a)({dataField:"sellAgency.location",text:"".concat(e.formatMessage({id:"GPS"}))},o.e),{},{classes:"text-center"}),seller:Object(n.a)(Object(n.a)({dataField:"seller.fullName",text:"".concat(e.formatMessage({id:"CUSTOMERS_SELLER"}))},o.e),{},{classes:"text-center"}),action:{dataField:"action",text:"action",formatter:function(e,a){return Object(w.jsx)("span",{className:"btn btn-icon btn-light btn-hover-primary btn-sm visibility",onClick:function(){t.push({pathname:"/customers-management/"+a._id+"/purchase-order"})},children:Object(w.jsx)("span",{className:"svg-icon svg-icon-md svg-icon-primary",children:Object(w.jsx)(L.a,{className:"text-primary eye"})})})},classes:"text-center",headerClasses:"text-center"}},J={_id:{dataField:"_id",text:"STT",formatter:function(e,t,a){var n,c;return Object(w.jsx)("p",{children:a+1+((null!==(n=D.page)&&void 0!==n?n:0)-1)*(null!==(c=D.limit)&&void 0!==c?c:0)})},classes:"mr-3",style:{paddingTop:20}},species:{dataField:"species.name",text:"T\xean ch\u1ee7ng lo\u1ea1i",classes:"text-center"},packing:{dataField:"packing.weight",text:"Quy c\xe1ch \u0111\xf3ng g\xf3i",classes:"text-center"},qr:Object(n.a)(Object(n.a)({dataField:"qr",text:"M\xe3 QR"},o.e),{},{classes:"text-center"})},K=[{data:{image:{formatter:function(e,t){return Object(w.jsx)(b.a,{width:"270px",height:"270px",images:e,values:t})}}},className:"col-lg-6 col-md-12 d-flex justify-content-right align-items-center mr-5 ml-5",dataClassName:"d-flex"},{data:{fullName:{title:"CUSTOMERS_DETAIL_NAME"},gender:{title:"CUSTOMERS_DETAIL_GENDER"},username:{title:"CUSTOMERS_PHONE_NUMBER"},birthDay:{title:"CUSTOMERS_DETAIL_DOB"},email:{title:"EMAIL"}},dataClassName:"col-lg-5 col-md-8",titleClassName:"col-lg-7 col-md-4",className:"col-lg-5 col-md-12"}];return Object(w.jsxs)(s.Fragment,{children:[Object(w.jsx)(j.a,{show:p,entity:f,renderInfo:K,onHide:function(){C(!1)},moduleName:"EMPTY",size:"lg"}),Object(w.jsxs)(m.d,{children:[Object(w.jsx)(m.b,{exact:!0,path:"/customers-management/:code/history",children:function(e){var t,a=e.history,c=e.match;return Object(w.jsx)(k,{columns:Y,code:null!==(t=null===c||void 0===c?void 0:c.params.code)&&void 0!==t?t:"",history:a,title:"L\u1ecaCH S\u1eec MUA H\xc0NG",onFetch:function(e,t){return function(e,t){var a=t.queryProps,c=t.paginationProps,s=t.sortField;return console.log(c),h.a.get("".concat(g,"/").concat(e,"/orders"),{params:Object(n.a)(Object(n.a)(Object(n.a)({},a),c),s)})}(e,{paginationProps:t})},sortField:G,setSortField:V})}}),Object(w.jsx)(m.b,{exact:!0,path:"/customers-management/:code/purchase-order",children:function(e){var t,a=e.history,c=e.match;return Object(w.jsx)(k,{columns:J,code:null!==(t=null===c||void 0===c?void 0:c.params.code)&&void 0!==t?t:"",history:a,title:"\u0110\u01a0N H\xc0NG ",onFetch:function(e,t){return function(e,t){var a=t.queryProps,c=t.paginationProps;return h.a.get("".concat(x,"/").concat(e),{params:Object(n.a)(Object(n.a)({},a),c)})}(e,{paginationProps:t})},sortField:G,setSortField:V})}}),Object(w.jsxs)(m.b,{path:"/customers-management",children:[Object(w.jsx)(l.a,{title:"PRODUCT_TYPE.MASTER.HEADER.TITLE",onSearch:function(e){P(o.a),R(e)},searchModel:{username:{type:"string",label:"CUSTOMERS_PHONE_NUMBER"}}}),Object(w.jsx)(d.a,{title:"CUSTOMERS_LISTS",onCreate:function(){},hideHeaderButton:!0,entities:O,total:H,columns:q,loading:I,paginationParams:D,setPaginationParams:P,isShowId:!0})]})]})]})}}}]);
//# sourceMappingURL=24.3ce3ab7b.chunk.js.map