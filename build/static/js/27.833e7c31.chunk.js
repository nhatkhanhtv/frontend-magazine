(this.webpackJsonpdemo1=this.webpackJsonpdemo1||[]).push([[27],{1736:function(t,e,n){"use strict";var a=n(60),o=n(0),r=n.n(o),c=n(1918),i=n(8),s=n(18),u=n(1740),l=n(73),d=n(65),f=n(1720),b=n.n(f),O=n(1719),j=n.n(O),m=n(270),E=n(1722),p=n(147),h=n(1);var y=function(t){var e=t.entity,n=t.onModify,f=(t.moduleName,t.onHide),O=t.modifyPanel,y=t.validation,M=t.loading,A=Object(d.a)(),T=(O._title,Object(a.a)(O,["_title"])),g=Object(o.useMemo)((function(){return Object(p.j)({_header:"",panel1:O})}),[O]),C=Object(o.useState)(g),S=Object(s.a)(C,2),D=S[0],v=S[1];return Object(o.useEffect)((function(){v(null!==e&&void 0!==e?e:g)}),[e,g]),Object(h.jsx)(l.d,{enableReinitialize:!0,initialValues:D,validationSchema:y,onSubmit:function(t,a){var o=a.setSubmitting;n(Object(i.a)(Object(i.a)(Object(i.a)({},e),t),{},{__v:void 0})).then((function(){f()})).catch((function(t){o(!1)}))},children:function(t){var e=t.handleSubmit;return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(c.a.Body,{className:"overlay overlay-block cursor-default",children:Object(h.jsx)(l.c,{className:"form form-label-right",children:Object.keys(T).map((function(t){return Object(h.jsx)(r.a.Fragment,{children:Object(h.jsx)(E.a,{inputGroups:T})},t)}))})}),Object(h.jsxs)(c.a.Footer,{className:"border-top-0 pt-10",children:[Object(h.jsxs)("button",{type:"submit",onClick:function(){return e()},className:"btn btn-primary fixed-btn-width",children:[!0===M?Object(h.jsx)(u.a,{animation:"border",variant:"light",size:"sm"}):Object(h.jsx)(b.a,{style:m.h}),"\xa0",A.formatMessage({id:"COMMON_COMPONENT.MODIFY_DIALOG.SAVE_BTN"})]}),Object(h.jsxs)("button",{type:"button",onClick:f,className:"btn btn-outline-primary fixed-btn-width",children:[Object(h.jsx)(j.a,{style:m.h}),A.formatMessage({id:"COMMON_COMPONENT.MODIFY_DIALOG.CLOSE_BTN"})]})]})]})}})},M=n(41),A=n.n(M);e.a=function(t){var e=t.show,n=t.onHide,o=t.entity,r=t.onModify,i=t.size,s=void 0===i?"sm":i,u=t.moduleName,l=void 0===u?"COMMON_COMPONENT.DETAIL_DIALOG.MODULE_NAME":u,f=t.formModel,b=t.validation,O=t.loading,j=Object(d.a)(),m=f._header,E=Object(a.a)(f,["_header"]);return Object(h.jsxs)(c.a,{size:s,show:e,onHide:n,"aria-labelledby":"example-modal-sizes-title-lg",dialogClassName:"modal-modify",children:[Object(h.jsx)(c.a.Header,{closeButton:!0,className:"border-bottom-0",children:Object(h.jsx)(c.a.Title,{id:"example-modal-sizes-title-lg",className:"text-primary",children:A.a.isString(m)?j.formatMessage({id:m},{moduleName:j.formatMessage({id:null!==l&&void 0!==l?l:"EMPTY"})}).toUpperCase():m(o)})}),Object.values(E).map((function(t,e){if(A.a.isString(t))throw new Error("S\u1eed d\u1ee5ng sai c\xe1ch "+t);return Object(h.jsx)(y,{modifyPanel:t,validation:b,entity:o,onHide:n,onModify:r,loading:O},"tttttttt".concat(e))}))]})}},1741:function(t,e,n){"use strict";n.d(e,"b",(function(){return u})),n.d(e,"f",(function(){return l})),n.d(e,"a",(function(){return d})),n.d(e,"e",(function(){return f})),n.d(e,"g",(function(){return b})),n.d(e,"c",(function(){return O})),n.d(e,"d",(function(){return j}));var a=n(8),o=n(51),r=n.n(o),c=n(78),i=c.a+"/role",s=i+"/bulk",u=(c.a,function(t){return r.a.post(i,t)}),l=function(t){var e=t.queryProps,n=t.sortList,o=t.paginationProps;return r.a.get("".concat(i),{params:Object(a.a)(Object(a.a)(Object(a.a)({},e),o),{},{sortList:n})})},d=function(t){var e=t.queryProps,n=t.sortList,o=t.paginationProps;return r.a.get("".concat(i,"/count"),{params:Object(a.a)(Object(a.a)(Object(a.a)({},e),o),{},{sortList:n})})},f=function(t){return r.a.get("".concat(i,"/").concat(t._id))},b=function(t){return r.a.put("".concat(i,"/").concat(t._id),t)},O=function(t){return r.a.delete("".concat(i,"/").concat(t._id))},j=function(t){return r.a.delete(s,{data:{data:t}})}},1742:function(t,e,n){"use strict";n.d(e,"b",(function(){return s})),n.d(e,"f",(function(){return u})),n.d(e,"a",(function(){return l})),n.d(e,"g",(function(){return d})),n.d(e,"e",(function(){return f})),n.d(e,"h",(function(){return b})),n.d(e,"c",(function(){return O})),n.d(e,"d",(function(){return j}));var a=n(8),o=n(51),r=n.n(o),c=n(78).a+"/user",i=c+"/bulk",s=function(t){return r.a.post(c,t)},u=function(t){var e=t.queryProps,n=t.sortList,o=t.paginationProps;return r.a.get("".concat(c),{params:Object(a.a)(Object(a.a)(Object(a.a)({},e),o),{},{sortList:n})})},l=function(t){return r.a.get("".concat(c,"/get/count"),{params:Object(a.a)({},t)})},d=function(t){return r.a.get("".concat(c,"/").concat(t))},f=function(t){return r.a.get("".concat(c,"/").concat(t._id))},b=function(t){return r.a.put("".concat(c,"/").concat(t._id),t)},O=function(t){return r.a.delete("".concat(c,"/").concat(t._id))},j=function(t){return r.a.delete(i,{data:{data:t}})}},1908:function(t,e,n){"use strict";n.r(e);var a=n(79),o=n.n(a),r=n(509),c=n(18),i=n(8),s=n(0),u=n(1759),l=n(270),d=n(1728),f=n(147),b=n(69),O=n(1725),j=n(1721),m=n(1726),E=n(1736),p=n(1732),h=n(1735),y=n(1742),M=n(1741),A=n(1);e.default=function(){var t=Object(f.i)({getServer:u.e,countServer:u.a,createServer:u.b,deleteServer:u.c,deleteManyServer:u.d,getAllServer:u.f,updateServer:u.g}),e=t.entities,n=t.intl,a=t.deleteEntity,T=t.setDeleteEntity,g=t.editEntity,C=t.setEditEntity,S=(t.createEntity,t.selectedEntities),D=t.setSelectedEntities,v=t.detailEntity,x=t.showDelete,L=t.setShowDelete,N=t.showEdit,F=t.setShowEdit,_=t.showCreate,R=t.setShowCreate,w=t.showDetail,P=t.setShowDetail,U=t.showDeleteMany,Y=t.setShowDeleteMany,H=t.paginationProps,I=t.setPaginationProps,k=t.filterProps,q=t.setFilterProps,z=t.total,B=t.loading,G=t.error,V=(t.setError,t.add),J=t.update,W=t.get,K=t.deleteMany,Q=t.deleteFn,X=t.getAll,Z="FACULTY.MODULE_NAME";Object(s.useEffect)((function(){X(k)}),[H,k]);var $=Object(s.useMemo)((function(){return{faculty:Object(i.a)({dataField:"faculty",text:"".concat(n.formatMessage({id:"FACULTY.MASTER.HEADER.FACULTY"}))},l.e),user:Object(i.a)({dataField:"user.fullName",text:"".concat(n.formatMessage({id:"FACULTY.MASTER.HEADER.COORDINATORCODE"}))},l.e),code:Object(i.a)({dataField:"code",text:"".concat(n.formatMessage({id:"FACULTY.MASTER.HEADER.CODE"}))},l.e),action:Object(i.a)(Object(i.a)({dataField:"action",text:"".concat(n.formatMessage({id:"FACULTY.MASTER.TABLE.ACTION_COLUMN"})),formatter:d.a,formatExtraData:{intl:n,onShowDetail:function(t){W(t),P(!0)},onDelete:function(t){T(t),L(!0)},onEdit:function(t){W(t).then((function(t){C(t.data),F(!0)}))}}},l.c),{},{style:{minWidth:"130px"}})}}),[]),tt=Object(s.useMemo)((function(){return[{data:{faculty:{title:"FACULTY.MASTER.HEADER.FACULTY_NAME"},"user.fullName":{title:"FACULTY.MASTER.HEADER.COORDINATORCODE"},code:{title:"FACULTY.MASTER.HEADER.CODE"}},titleClassName:"col-3"}]}),[]),et=Object(s.useMemo)((function(){return{faculty:{type:"search-select",label:"Faculty",onSearch:u.f,keyField:"faculty"}}}),[]),nt=Object(s.useState)(et),at=Object(c.a)(nt,2),ot=at[0],rt=(at[1],Object(s.useState)({_subTitle:"",faculty:{_type:"string",label:"FACULTY.MASTER.HEADER.FACULTY"},user:{_type:"search-select",label:"FACULTY.MASTER.HEADER.COORDINATORCODE",onSearch:function(){var t=Object(r.a)(o.a.mark((function t(e){var n,a,r,c;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.queryProps,a=e.paginationProps,r=n.role,t.next=4,M.f({queryProps:Object(i.a)(Object(i.a)({},r),{},{role:"coordinator"})});case 4:return c=t.sent,t.abrupt("return",y.f({queryProps:Object(i.a)(Object(i.a)({},n),{},{role:c.data.data[0]}),paginationProps:a}));case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),keyField:"fullName"},code:{_type:"string",label:"FACULTY.MASTER.HEADER.CODE",disabled:!0}})),ct=Object(c.a)(rt,2),it=ct[0],st=(ct[1],Object(s.useMemo)((function(){return{_header:"FACULTY.CREATE.TITLE",panel1:{_title:"",group1:it}}}),[it])),ut=Object(s.useMemo)((function(){return Object(i.a)(Object(i.a)({},st),{},{_header:"FACULTY.EDIT.TITLE"})}),[st]);return Object(A.jsxs)(s.Fragment,{children:[Object(A.jsx)(O.a,{title:"FACULTY.VIEW.TITLE",moduleName:Z,show:w,entity:v,renderInfo:tt,onHide:function(){P(!1)}}),Object(A.jsx)(p.a,{moduleName:Z,entity:a,onDelete:Q,isShow:x,onHide:function(){L(!1),q(Object(i.a)({},k))},loading:B,error:G}),Object(A.jsx)(h.a,{moduleName:Z,selectedEntities:S,loading:B,error:G,isShow:U,onDelete:K,onHide:function(){Y(!1),q(Object(i.a)({},k))}}),Object(A.jsx)(E.a,{formModel:st,show:_,onModify:V,onHide:function(){R(!1)},loading:B}),Object(A.jsx)(E.a,{formModel:ut,show:N,entity:g,onModify:J,onHide:function(){F(!1)},loading:B}),Object(A.jsx)(b.d,{children:Object(A.jsxs)(b.b,{path:"".concat(l.b.faculty),children:[Object(A.jsx)(j.a,{title:"FACULTY.MASTER.HEADER.TITLE",onSearch:function(t){I(l.a),void 0!==t.faculty?q(Object(i.a)(Object(i.a)({},t),{},{faculty:t.faculty.faculty})):q(t)},searchModel:ot}),Object(A.jsx)(m.a,{title:"FACULTY.MASTER.BODY.TITLE",onCreate:function(){R(!0)},onDeleteMany:function(){return Y(!0)},selectedEntities:S,onSelectMany:D,entities:e,total:z,columns:$,loading:B,paginationParams:H,setPaginationParams:I,isShowId:!0})]})})]})}}}]);
//# sourceMappingURL=27.833e7c31.chunk.js.map